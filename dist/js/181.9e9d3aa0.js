"use strict";(self["webpackChunkenaira_card"]=self["webpackChunkenaira_card"]||[]).push([[181],{2181:function(s,e,t){t.r(e),t.d(e,{default:function(){return c}});var a=function(){var s=this,e=s._self._c;return e("div",{staticClass:"auth-content"},[e("div",[s._m(0),e("validation-observer",{scopedSlots:s._u([{key:"default",fn:function({invalid:t,handleSubmit:a}){return[e("form",{on:{submit:function(e){return e.preventDefault(),a(s.onSubmit)}}},[s.error?e("span",{staticClass:"tw-mb-3 error-alert"},[s._v(s._s(s.errors))]):s._e(),e("validation-provider",{attrs:{name:"customer id",rules:"required|email"},scopedSlots:s._u([{key:"default",fn:function({dirty:t,valid:a,invalid:r,errors:i}){return[e("div",{staticClass:"field"},[e("input",{directives:[{name:"model",rawName:"v-model",value:s.credentials.customer_id,expression:"credentials.customer_id"}],class:{"tw-text-success":t&&a,"tw-text-danger":t&&r},attrs:{type:"email",name:"Customer id",id:"email",placeholder:"xxxx@xx.xxx"},domProps:{value:s.credentials.customer_id},on:{input:function(e){e.target.composing||s.$set(s.credentials,"customer_id",e.target.value)}}}),e("span",{staticClass:"email-iccon",attrs:{role:"button"},on:{click:function(e){s.typePassword=!s.typePassword}}},[e("i-icon",{staticClass:"form-icon",attrs:{icon:"fluent:mail-24-regular"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:i,expression:"errors"}],staticClass:"invalid-feedback d-inline-block"},[s._v(s._s(i[0]))]),e("label",{attrs:{for:"email"}},[s._v("Email, ID or Phone Number")])])]}}],null,!0)}),e("validation-provider",{staticClass:"tw-mt-4",attrs:{name:"password",rules:"required"},scopedSlots:s._u([{key:"default",fn:function({dirty:t,valid:a,invalid:r,errors:i}){return[e("div",{staticClass:"field"},["checkbox"===(s.typePassword?"password":"text")?e("input",{directives:[{name:"model",rawName:"v-model",value:s.credentials.password,expression:"credentials.password"}],class:{"tw-text-success":t&&a,"tw-text-danger":t&&r},attrs:{name:"password",id:"password",placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(s.credentials.password)?s._i(s.credentials.password,null)>-1:s.credentials.password},on:{change:function(e){var t=s.credentials.password,a=e.target,r=!!a.checked;if(Array.isArray(t)){var i=null,o=s._i(t,i);a.checked?o<0&&s.$set(s.credentials,"password",t.concat([i])):o>-1&&s.$set(s.credentials,"password",t.slice(0,o).concat(t.slice(o+1)))}else s.$set(s.credentials,"password",r)}}}):"radio"===(s.typePassword?"password":"text")?e("input",{directives:[{name:"model",rawName:"v-model",value:s.credentials.password,expression:"credentials.password"}],class:{"tw-text-success":t&&a,"tw-text-danger":t&&r},attrs:{name:"password",id:"password",placeholder:"Password",type:"radio"},domProps:{checked:s._q(s.credentials.password,null)},on:{change:function(e){return s.$set(s.credentials,"password",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:s.credentials.password,expression:"credentials.password"}],class:{"tw-text-success":t&&a,"tw-text-danger":t&&r},attrs:{name:"password",id:"password",placeholder:"Password",type:s.typePassword?"password":"text"},domProps:{value:s.credentials.password},on:{input:function(e){e.target.composing||s.$set(s.credentials,"password",e.target.value)}}}),e("span",{staticClass:"password-iccon",attrs:{role:"button"},on:{click:function(e){s.typePassword=!s.typePassword}}},[e("i-icon",{staticClass:"form-icon",attrs:{icon:s.typePassword?"tabler:eye":"gridicons:not-visible"}})],1),e("span",{directives:[{name:"show",rawName:"v-show",value:i,expression:"errors"}],staticClass:"invalid-feedback d-inline-block"},[s._v(s._s(i[0]))]),e("label",{attrs:{for:"password"}},[s._v("Password")])])]}}],null,!0)}),e("div",{staticClass:"tw-mt-10"},[e("button",{staticClass:"primary-btn w-100",class:{"tw-bg-gray4":t},attrs:{disabled:t}},[e("span",[s._v("Login")])])])],1)]}}])})],1)])},r=[function(){var s=this,e=s._self._c;return e("div",{staticClass:"tw-mb-6 tw-text-center"},[e("img",{staticClass:"tw-mx-auto tw-h-[67px] tw-w-[201px]",attrs:{src:t(5466),alt:""}}),e("h5",{staticClass:"tw-font-semibold tw-text-[22px] tw-mt-5 tw-mb-12"},[s._v(" Login to eNaira ")])])}],i=(t(7658),t(3822)),o={components:{},data:()=>({credentials:{customer_id:"",password:""},typePassword:!0,disabled:!0,cardNumber:{}}),methods:{...(0,i.nv)("auth",["loginUser"]),login(){let s={user_email:this.credentials.email,user_password:this.credentials.password};this.loginUser(s)},onSubmit(){let s={customer_id:this.credentials.customer_id,password:this.credentials.password};this.loginUser(s).then((()=>{this.success&&(this.$store.dispatch("auth/getUserProfile"),Object.keys(this.cardNumber).length>0?this.$router.push(`/?card=${this.cardNumber.card}`):this.$router.push("/"))}))}},mounted(){this.$store.commit("auth/REMOVE_ERROR_SUCCESS");var s=this.$route.query;this.cardNumber=s},watch:{credentials:{handler(s){""!=s.email&&""!=s.password?this.disabled=!1:this.disabled=!0},deep:!0,immediate:!0}},computed:{...(0,i.rn)("auth",{loading:s=>s.loading,error:s=>s.error,errors:s=>s.validationErrors,user:s=>s.user,success:s=>s.success})}},d=o,n=t(1001),l=(0,n.Z)(d,a,r,!1,null,"5088b25b",null),c=l.exports},5466:function(s,e,t){s.exports=t.p+"img/enaira-logo.c53b681c.svg"}}]);
//# sourceMappingURL=181.9e9d3aa0.js.map